{
  "types": {
    "GlobalConfiguration": {
      "extends": [],
      "fields": {
        "IsAdmin": "boolean"
      }
    },
    "Identifiable": {
      "fields": {
        "Id": "string"
      }
    },
    "EmploymentsEnum": {
      "fun": "Union",
      "args": [
        {
          "caseName": "Monthly",
          "fields": {}
        },
        {
          "caseName": "Hourly",
          "fields": {}
        },
        {
          "caseName": "Substitute",
          "fields": {}
        }
      ]
    },
    "EmploymentTypeRef": {
      "fields": {
        "Value": "EmploymentsEnum"
      }
    },
    "Employment": {
      "extends": ["Identifiable"],
      "fields": {
        "Started": "Date",
        "EmploymentID": "number",
        "EmploymentType": {
          "fun": "SingleSelection",
          "args": ["EmploymentTypeRef"]
        }
      }
    },
    "AssistantConfig": {
      "fields": {}
    },
    "Assistant": {
      "extends": ["Identifiable"],
      "fields": {
        "Name": "string",
        "IsProtected": "boolean",
        "Address": {
          "fun": "Tuple",
          "args": ["string", "string"]
        },
        "CurrentEmployment": {
          "fun": "One",
          "args": ["Employment"]
        }
      }
    }
  },
  "apis": {
    "lookups": {
      "Assistant": {
        "one": {
          "CurrentEmploymentApi": {
            "type": "Employment",
            "methods": ["get", "getManyUnlinked"]
          }
        }
      }
    },
    "entities": {
      "assistant": {
        "type": "Assistant",
        "methods": ["default"]
      },
      "globalConfiguration": {
        "type": "GlobalConfiguration",
        "methods": ["get"]
      }
    },
    "enumOptions": {
      "employmentTypes": "EmploymentTypeRef"
    }
  },
  "forms": {
    "assistant": {
      "type": "Assistant",
      "renderer": "defaultRecordRenderer",
      "fields": {
        "Name": {
          "label": "First Name",
          "renderer": "defaultString"
        },
        "IsProtected": {
          "label": "Protected Identity",
          "renderer": "defaultBoolean"
        },
        "Address": {
          "label": "Address",
          "renderer": "defaultTuple2",
          "itemRenderers": [
            {
              "label": "City",
              "renderer": "defaultString"
            },
            {
              "label": "Street",
              "renderer": "defaultString"
            }
          ]
        },
        "CurrentEmployment": {
          "label": "Current employment",
          "renderer": "currentEmployment",
          "detailsRenderer": {
            "renderer": {
              "type": "Employment",
              "fields": {
                "EmploymentID": {
                  "renderer": "defaultNumber"
                }
              },
              "tabs": {
                "main": {
                  "columns": {
                    "main": {
                      "groups": {
                        "main": ["EmploymentID"]
                      }
                    }
                  }
                }
              }
            }
          },
          "previewRenderer": {
            "renderer": {
              "type": "Employment",
              "fields": {
                "Started": {
                  "renderer": "defaultDate"
                },
                "EmploymentID": {
                  "renderer": "defaultNumber"
                },
                "EmploymentType": {
                  "renderer": "defaultEnum",
                  "options": "employmentTypes"
                }
              },
              "tabs": {
                "main": {
                  "columns": {
                    "main": {
                      "groups": {
                        "main": ["Started", "EmploymentID", "EmploymentType"]
                      }
                    }
                  }
                }
              }
            }
          },
          "api": ["Assistant", "CurrentEmploymentApi"]
        }
      },
      "tabs": {
        "main": {
          "columns": {
            "groups": {
              "main": [
                "Name",
                "IsProtected",
                "Address",
                "CurrentEmployment"
              ]
            }
          }
        }
      }
    },
    "assistantConfig": {
      "type": "Assistant",
      "fields": {
        "Name": {
          "label": "First name",
          "renderer": "defaultString"
        }
      },
      "tabs": {
        "main": {
          "columns": {
            "main": {
              "groups": {
                "main": ["Name"]
              }
            }
          }
        }
      }
    }
  },
  "launchers": {
    "create-assistant": {
      "kind": "create",
      "form": "assistant",
      "api": "assistant",
      "configApi": "globalConfiguration"
    },
    "assistant-transparent": {
      "kind": "passthrough",
      "form": "assistantConfig",
      "configType": "AssistantConfig"
    }
  }
}